(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{ydzq:function(t,e,s){"use strict";s.r(e),s.d(e,"ChallengeModule",function(){return E});var i=s("ofXK"),o=s("tyNb"),a=s("HDdC"),r=s("7o/Q");class c{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new n(t,this.count,this.source))}}class n extends r.a{constructor(t,e,s){super(t),this.count=e,this.source=s}error(t){if(!this.isStopped){const{source:e,count:s}=this;if(0===s)return super.error(t);s>-1&&(this.count=s-1),e.subscribe(this._unsubscribeAndRecycle())}}}var h=s("JIr8"),l=s("fXoL"),b=s("tk/3");let p=(()=>{class t{constructor(t){this.httpClient=t,this.APIURL="https://rickandmortyapi.com/api/character"}getCharacters(t){return this.httpClient.get(`${this.APIURL}/?page=${t}`).pipe(function(t=-1){return e=>e.lift(new c(t,e))}(3),Object(h.a)(this.handleError))}getCharacter(t){return this.httpClient.get(`${this.APIURL}/${t}`)}handleError(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Backend returned code ${t.status}, body: ${t.error}`),new a.a(t=>t.error("Error: please try again later."))}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(b.a))},t.\u0275prov=l.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),g=(()=>{class t{constructor(t){this.httpClient=t,this.APIURL="https://rickandmortyapi.com/api/location"}getLocations(t){return this.httpClient.get(`${this.APIURL}/?page=${t}`)}getLocation(t){return this.httpClient.get(`${this.APIURL}/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(b.a))},t.\u0275prov=l.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),d=(()=>{class t{constructor(t){this.httpClient=t,this.APIURL="https://rickandmortyapi.com/api/episode"}getEpisodes(t){return this.httpClient.get(`${this.APIURL}/?page=${t}`)}getEpisode(t){return this.httpClient.get(`${this.APIURL}/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(l.Pb(b.a))},t.\u0275prov=l.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=s("52j4"),L=s("LzDz");function m(t,e){if(1&t&&(l.Lb(0,"strong"),l.hc(1),l.Xb(2,"date"),l.Kb()),2&t){const t=l.Wb();l.yb(1),l.ic(l.Yb(2,1,t.fase1Timer,"SSS"))}}function f(t,e){if(1&t&&l.Jb(0,"app-challenge-one",18),2&t){const t=l.Wb().$implicit;l.Zb("challenge",t)}}function K(t,e){if(1&t&&(l.Lb(0,"div",16),l.gc(1,f,1,1,"app-challenge-one",17),l.Kb()),2&t){const t=e.$implicit;l.yb(1),l.Zb("ngIf",t)}}function v(t,e){if(1&t&&(l.Lb(0,"strong"),l.hc(1),l.Xb(2,"date"),l.Kb()),2&t){const t=l.Wb();l.yb(1),l.ic(l.Yb(2,1,t.fase2Timer,"SSS"))}}function C(t,e){if(1&t&&(l.Lb(0,"div",19),l.Jb(1,"app-challenge-two",20),l.Kb()),2&t){const t=e.$implicit;l.yb(1),l.Zb("episode",t)}}const y=[{path:"",component:(()=>{class t{constructor(t,e,s){this.characterService=t,this.locationService=e,this.episodeService=s,this.title="Rick and Morty",this.initTimer=0,this.finalTimer=0,this.fase1Timer=0,this.fase2Timer=0,this.challengesData=[],this.characters=[],this.charactersData={count:0,time:0,pages:0,letter:"c"},this.locations=[],this.locationsData={count:0,time:0,pages:0,letter:"l"},this.episodes=[],this.episodesData={count:0,time:0,pages:0,letter:"e"},this.epiLocation=[]}ngOnInit(){this.initTimer=performance.now(),this.getCharacterPages()}getChallengesData(t,e){const{count:s,time:i,letter:o}=e;this.challengesData.push({name:t,count:s,time:i,letter:o})}getCharacterPages(){this.characterService.getCharacters(1).subscribe(t=>{this.charactersData.pages=t.info.pages},t=>console.error(t),()=>{this.getAllCharacters(this.charactersData.pages)})}getAllCharacters(t){for(let e=1;e<=t;e++)this.characterService.getCharacters(e).subscribe(t=>{this.characters.push(...t.results)},t=>console.error(t),()=>{e===t&&(this.calcCountAndTime(this.characters,this.charactersData),this.saveCharactersLocalStorage(this.characters),this.getChallengesData("Characters",this.charactersData),this.getLocationPages(),this.getEpisodePages())})}saveCharactersLocalStorage(t){void 0!==typeof Storage&&localStorage.setItem("characters",JSON.stringify(t))}calcCountAndTime(t,e){e.count=this.countLetters(t,e.letter.toLocaleLowerCase()),e.time=performance.now()-this.initTimer}countLetters(t,e){let s=0;return t.forEach(t=>{t.name.toLowerCase().includes(e)&&t.name.toLowerCase().split("").forEach(t=>{t===e.toLocaleLowerCase()&&s++})}),s}getLocationPages(){this.locationService.getLocations(1).subscribe(t=>{this.locationsData.pages=t.info.pages},t=>console.log(t),()=>{this.getAllLocations(this.locationsData.pages)})}getAllLocations(t){for(let e=1;e<=t;e++)this.locationService.getLocations(e).subscribe(t=>{this.locations.push(...t.results)},t=>console.error(t),()=>{e===t&&(this.calcCountAndTime(this.locations,this.locationsData),this.saveLocationsLocalStorage(this.locations),this.getChallengesData("Locations",this.locationsData))})}saveLocationsLocalStorage(t){void 0!==typeof Storage&&localStorage.setItem("locations",JSON.stringify(t))}getEpisodePages(){this.episodeService.getEpisodes(1).subscribe(t=>{this.episodesData.pages=t.info.pages},t=>console.error(t),()=>{this.getAllEpisodes(this.episodesData.pages)})}getAllEpisodes(t){for(let e=1;e<=t;e++)this.episodeService.getEpisodes(e).subscribe(t=>{this.episodes.push(...t.results)},t=>console.error(t),()=>{e===t&&(this.calcCountAndTime(this.episodes,this.episodesData),this.fase1Timer=performance.now()-this.initTimer,this.saveEpisodesLocalStorage(this.episodes),this.getEpisodesCharacterLocationsOrigin(this.episodes),this.getChallengesData("Episodes",this.episodesData))})}saveEpisodesLocalStorage(t){void 0!==typeof Storage&&localStorage.setItem("episodes",JSON.stringify(t))}getEpisodesCharacterLocationsOrigin(t){let e=[];t.forEach(({id:t,name:s,characters:i},o)=>{let a=[];i.forEach(t=>{const e=Number(t.split("https://rickandmortyapi.com/api/character/")[1]),s=this.characters[e-1];(null==s?void 0:s.origin)&&a.push(s.origin.name)}),e.push({id:t,name:s,location:[...new Set(a)]})}),this.epiLocation=e;const s=performance.now();this.fase2Timer=s-this.initTimer,console.log(s)}}return t.\u0275fac=function(e){return new(e||t)(l.Ib(p),l.Ib(g),l.Ib(d))},t.\u0275cmp=l.Cb({type:t,selectors:[["app-challenge"]],features:[l.xb([p,g,d])],decls:98,vars:5,consts:[[1,"episodes"],[1,"container","mb-2","mt-2"],[1,"row"],[1,"col"],[1,"pb-2","main-title"],[1,"lead"],["href","https://rickandmortyapi.com/","target","_blank",1,"rm-api"],[1,"challenge-1","challenge"],[1,"container","mb-2"],[1,"pb-2"],[4,"ngIf"],[1,"container","fase1","mb-5"],["class","col-sm-12 col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"container","episodes__task"],[1,"mb-4"],["class","col-sm-12",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","col-lg-4"],[3,"challenge",4,"ngIf"],[3,"challenge"],[1,"col-sm-12"],[3,"episode"]],template:function(t,e){1&t&&(l.Lb(0,"div",0),l.Lb(1,"div",1),l.Lb(2,"div",2),l.Lb(3,"div",3),l.Lb(4,"h1",4),l.hc(5,"Challenges"),l.Kb(),l.Lb(6,"p",5),l.hc(7," This a technical challenge for a job offer using the "),l.Lb(8,"strong"),l.Lb(9,"a",6),l.hc(10," RickandMortyApi "),l.Kb(),l.Kb(),l.Kb(),l.Kb(),l.Kb(),l.Kb(),l.Lb(11,"section",7),l.Lb(12,"div",8),l.Lb(13,"div",2),l.Lb(14,"div",3),l.Lb(15,"h2",9),l.hc(16,"Challenge # 1"),l.Kb(),l.Lb(17,"h6"),l.hc(18,"Char counter:"),l.Kb(),l.Lb(19,"ul"),l.Lb(20,"li"),l.Lb(21,"p"),l.hc(22,"How many times does the letter "),l.Lb(23,"strong"),l.hc(24,'"l"'),l.Kb(),l.hc(25," (case insensitive) appear in the names of all the "),l.Lb(26,"strong"),l.hc(27,"locations"),l.Kb(),l.Kb(),l.Kb(),l.Lb(28,"li"),l.Lb(29,"p"),l.hc(30,"how many times does the letter "),l.Lb(31,"strong"),l.hc(32,'"e"'),l.Kb(),l.hc(33," (case insensitive) appear in the names of all the "),l.Lb(34,"strong"),l.hc(35,"episodes"),l.Kb(),l.Kb(),l.Kb(),l.Lb(36,"li"),l.Lb(37,"p"),l.hc(38,"How many times does the letter "),l.Lb(39,"strong"),l.hc(40,'"c"'),l.Kb(),l.hc(41," (case insensitive) appear in the names of all the "),l.Lb(42,"strong"),l.hc(43,"characters"),l.Kb(),l.Kb(),l.Kb(),l.Lb(44,"li"),l.Lb(45,"p"),l.hc(46,"how long the program took \ud83d\udc46 in total"),l.Kb(),l.Kb(),l.Kb(),l.Lb(47,"p"),l.hc(48," Total execution of Fase # 1 "),l.Jb(49,"br"),l.hc(50," Execution Time: "),l.gc(51,m,3,4,"strong",10),l.hc(52," milliseconds. "),l.Kb(),l.Kb(),l.Kb(),l.Kb(),l.Lb(53,"div",11),l.Lb(54,"div",2),l.gc(55,K,2,1,"div",12),l.Kb(),l.Kb(),l.Kb(),l.Lb(56,"section",7),l.Lb(57,"div",13),l.Lb(58,"div",2),l.Lb(59,"div",3),l.Lb(60,"h2",9),l.hc(61,"Challenge # 2"),l.Kb(),l.Lb(62,"h6"),l.hc(63,"Episode locations:"),l.Kb(),l.Lb(64,"ul"),l.Lb(65,"li"),l.Lb(66,"p"),l.hc(67," For each "),l.Lb(68,"strong"),l.hc(69,"episode"),l.Kb(),l.hc(70,", indicate the quantity and a list with the "),l.Lb(71,"strong"),l.hc(72,"location"),l.Kb(),l.hc(73," ("),l.Lb(74,"strong"),l.hc(75,"origin"),l.Kb(),l.hc(76,") of all the "),l.Lb(77,"strong"),l.hc(78,"characters"),l.Kb(),l.hc(79," that appeared in that "),l.Lb(80,"strong"),l.hc(81,"episode"),l.Kb(),l.hc(82," (without repeating) "),l.Kb(),l.Kb(),l.Lb(83,"li"),l.Lb(84,"p"),l.hc(85,"how long the program took \ud83d\udc46 in total"),l.Kb(),l.Kb(),l.Kb(),l.Lb(86,"p"),l.hc(87," Total execution of Fase # 2 "),l.Jb(88,"br"),l.hc(89," Execution Time: "),l.gc(90,v,3,4,"strong",10),l.hc(91," milliseconds. "),l.Kb(),l.Kb(),l.Kb(),l.Lb(92,"div",2),l.Lb(93,"div",3),l.Lb(94,"h3",14),l.hc(95),l.Kb(),l.Kb(),l.Kb(),l.Lb(96,"div",2),l.gc(97,C,2,1,"div",15),l.Kb(),l.Kb(),l.Kb(),l.Kb()),2&t&&(l.yb(51),l.Zb("ngIf",e.fase1Timer),l.yb(4),l.Zb("ngForOf",e.challengesData),l.yb(35),l.Zb("ngIf",e.fase2Timer),l.yb(5),l.jc("",e.episodes.length," Episodes"),l.yb(2),l.Zb("ngForOf",e.epiLocation))},directives:[i.k,i.j,u.a,L.a],pipes:[i.d],styles:[".episodes[_ngcontent-%COMP%]   a.rm-api[_ngcontent-%COMP%]{color:#79b069!important}.episodes[_ngcontent-%COMP%]   a.rm-api[_ngcontent-%COMP%]:visited{color:inherit}.episodes[_ngcontent-%COMP%]   a.rm-api[_ngcontent-%COMP%]:hover{color:#43b4ce!important}"]}),t})()}];let w=(()=>{class t{}return t.\u0275mod=l.Gb({type:t}),t.\u0275inj=l.Fb({factory:function(e){return new(e||t)},imports:[[o.c.forChild(y)],o.c]}),t})();var S=s("j1ZV");let E=(()=>{class t{}return t.\u0275mod=l.Gb({type:t}),t.\u0275inj=l.Fb({factory:function(e){return new(e||t)},imports:[[i.b,w,S.a]]}),t})()}}]);